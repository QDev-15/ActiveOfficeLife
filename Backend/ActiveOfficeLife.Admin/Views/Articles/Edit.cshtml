@{
    ViewData["Title"] = "Cập nhật bài viết";
    var postId = ViewBag.PostId as string;
}

<div id="post-edit-root" data-post-id="@postId"></div>

<div class="container-fluid d-flex justify-content-between align-items-center mb-3">
    <div class="d-flex align-items-center">
        <span id="statusText" class="text-muted fs-5 fw-bold">Đang tải…</span>
    </div>
    <div class="d-flex gap-2 align-items-center">
        <a onclick="postInstance.back()" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left me-1"></i>Quay lại
        </a>

        <a id="btnView" onclick="postInstance.view()" class="btn btn-info text-white d-none">
            <i class="bi bi-eye me-1"></i>Xem
        </a>

        <a id="btnPublish" onclick="postInstance.changeStatus('published')" class="btn btn-success d-none">
            <i class="bi bi-upload me-1"></i>Xuất bản
        </a>
        <a id="btnUnpublish" onclick="postInstance.changeStatus('paused')" class="btn btn-warning d-none">
            <i class="bi bi-arrow-down-circle me-1"></i>Hủy xuất bản
        </a>
        <a id="btnClose" onclick="postInstance.changeStatus('closed')" class="btn btn-secondary d-none">
            <i class="bi bi-lock me-1"></i>Đóng
        </a>
        <a id="btnRepublish" onclick="postInstance.changeStatus('published')" class="btn btn-success d-none">
            <i class="bi bi-upload me-1"></i>Xuất bản lại
        </a>

        <a id="btnDelete" onclick="postInstance.delete()" class="btn btn-danger">
            <i class="bi bi-trash me-1"></i>Xóa
        </a>
    </div>
</div>

<div class="container-fluid" id="content-artile-edit">
    <!-- KHÔNG post form về MVC nữa, chỉ là khung UI -->
    
</div>


<script type="module">
    postInstance.initEditPage();             // JS sẽ tự đọc id từ #post-edit-root
</script>
